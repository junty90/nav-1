{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","localList","localStorage","getItem","localListObject","JSON","parse","hashMap","text","name","logo","logoType","url","parseUrl","replace","template","node","render","remove","forEach","index","$li","insertBefore","on","window","open","e","stopPropagation","console","log","splice","prompt","indexOf","shortName","toUpperCase","newSite","push","onbeforeunload","string","stringify","setItem","document","key","i","length","h"],"mappings":"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","file":"main.cf5ad942.js","sourceRoot":"../src","sourcesContent":["const $siteList = $('.siteList')\nconst $lastLi = $siteList.find('li.last')\nconst localList = localStorage.getItem('x')\nconst localListObject = JSON.parse(localList)\nconst hashMap = localListObject || [\n    {\n        text : 'V',\n        name : 'vuejs',\n        logo : 'https://cn.vuejs.org/images/icons/favicon-32x32.png',\n        logoType : 'text',\n        url : 'https://cn.vuejs.org/index.html'\n    },\n    {\n        text : 'R',\n        name : 'reactjs',\n        logo : 'https://zh-hans.reactjs.org/favicon.ico',\n        logoType : 'text',\n        url : 'https://zh-hans.reactjs.org/'\n    },\n    {\n        text : 'A',\n        name : 'acfun',\n        logo : '',\n        logoType : 'text',\n        url : 'https://www.acfun.cn/'\n    },\n    {\n        text : 'B',\n        name : 'bilibili',\n        logo : 'https://www.bilibili.com/favicon.ico',\n        logoType : 'ico',\n        url : 'https://www.bilibili.com/'\n    },\n]\n\nconst parseUrl = (url) => {\n   return url.replace('https://', '')\n       .replace('http://', '')\n       .replace('www.', '')\n       .replace(/\\/.*/, '')\n}\n\nconst template = (node) => {\n    // let urlName = parseUrl(node.url)\n    return `<li>\n                <div class=\"site\">\n                    <div class=\"logo\">${node.text}</div>\n                    <div class=\"link\">${node.name}</div>\n                    <div class=\"delete\">\n                        <svg class=\"icon\" aria-hidden=\"true\">\n                            <use xlink:href=\"#icon-delete\"></use>\n                        </svg>\n                    </div>\n                </div>\n            </li>`\n}\n\nconst render = () => {\n    $siteList.find('li:not(.last)').remove()\n    hashMap.forEach((node,index )=> {\n        const $li = $(template(node)).insertBefore($lastLi)\n        $li.on('click', () => {\n            window.open(node.url, '_self')\n        })\n        $li.on('click', '.delete', (e) => {\n            e.stopPropagation()\n            console.log('delete')\n            hashMap.splice(index, 1)\n            render()\n        })\n    })\n}\n\nrender()\n\n$('.addSite')\n    .on('click', () => {\n        let url = window.prompt('新增网站')\n        if (url.indexOf('http') !== 0) {\n            url = 'https://' + url\n        }\n        let name = parseUrl(url)\n        let shortName = name.toUpperCase()\n        let newSite = {\n            text : shortName[0],\n            name : name,\n            logo : url[0],\n            logoType : 'text',\n            url : url\n        }\n        hashMap.push(newSite)\n        render()\n    })\n\nwindow.onbeforeunload = () => {\n    console.log('页面关闭')\n    const string = JSON.stringify(hashMap)\n    localStorage.setItem('x', string)\n}\n\n$(document).on('keypress', (e) => {\n    let {key} = e\n    for (let i = 0; i < hashMap.length; i++) {\n        let h = hashMap[i]\n        if (h.name[0] === key) {\n            window.open(h.url)\n        }\n    }\n})"]}